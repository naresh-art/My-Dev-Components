<!-- <template>
    <lightning-card class="quiz-card" title="Quiz Time!" icon-name="utility:question">
        <template if:true={showQuestions}>
            <div class="question-container">
                <template for:each={questions} for:item="question">
                    <div key={question.id} class="question-block">
                        <p class="question-text">{question.id}. {question.text}</p>
                        <lightning-radio-group
                            class="answer-options"
                            options={question.options}
                            data-id={question.id}
                            onchange={handleAnswerChange}>
                        </lightning-radio-group>
                    </div>
                </template>
            </div>
            <div class="button-container">
                <lightning-button
                    class="submit-button"
                    label="Submit"
                    variant="brand"
                    onclick={handleSubmit}>
                </lightning-button>
            </div>
        </template>

        <template if:true={showResult}>
            <div class="result-container">
                <h2 class="result-title">{resultMessage}</h2>
                <p class="result-score">You scored {score}/{questions.length}.</p>
                <lightning-button
                    class="retry-button"
                    label="Retry Quiz"
                    variant="neutral"
                    onclick={retryQuiz}>
                </lightning-button>
            </div>
        </template>
    </lightning-card>
</template> -->


<!-- <template>
    <lightning-card class="quiz-card" title="Quiz Time!" icon-name="utility:question">
        <template if:true={showQuestions}>
            <div class="question-container">
                <template for:each={questions} for:item="question">
                    <div key={question.id} class="question-block">
                        <p class="question-text">{question.id}. {question.text}</p>
                        <lightning-radio-group
                            class="answer-options"
                            options={question.options}
                            data-id={question.id}
                            onchange={handleAnswerChange}>
                        </lightning-radio-group>
                    </div>
                </template>
            </div>
            <div class="button-container">
                <lightning-button
                    class="submit-button"
                    label="Submit"
                    variant="brand"
                    onclick={handleSubmit}>
                </lightning-button>
            </div>
        </template>

        <template if:true={showResult}>
            <div class="result-container">
                <h2 class="result-title">{resultMessage}</h2>
                <p class="result-score">You scored {score}/{questions.length}.</p>
                <lightning-button
                    class="retry-button"
                    label="Retry Quiz"
                    variant="neutral"
                    onclick={retryQuiz}>
                </lightning-button>
            </div>
        </template>
    </lightning-card>
</template> -->


<!-- <template>
    <lightning-card class="quiz-card" title="Quiz Time!" icon-name="utility:question">
        <template if:true={showQuestions}>
            <div class="question-container">
                <template for:each={questions} for:item="question">
                    <div key={question.id} class="question-block">
                        <p class="question-text">{question.id}. {question.text}</p>
                        <lightning-radio-group
                            class="answer-options"
                            options={question.options}
                            data-id={question.id}
                            onchange={handleAnswerChange}>
                        </lightning-radio-group>
                    </div>
                </template>
            </div>
            <div class="button-container">
                <lightning-button
                    class="submit-button"
                    label="Submit"
                    variant="brand"
                    onclick={handleSubmit}>
                </lightning-button>
            </div>
        </template>

        <template if:true={showResult}>
            <div class="result-container">
                <h2 class="result-title">{resultMessage}</h2>
                <p class="result-score">You scored {score}/{questions.length}.</p>
                <div class="answer-container">
                    <template for:each={questions} for:item="question">
                        <div key={question.id} class="answer-block">
                            <p class="question-text">{question.id}. {question.text}</p>
                            <template for:each={question.options} for:item="option">
                                <p key={option.value} class={option.class}>
                                    {option.label}
                                </p>
                            </template>
                        </div>
                    </template>
                </div>
                <lightning-button
                    class="retry-button"
                    label="Retry Quiz"
                    variant="neutral"
                    onclick={retryQuiz}>
                </lightning-button>
            </div>
        </template>
    </lightning-card>
</template> -->


<!-- <template>
    <lightning-card class="quiz-card" title="Quiz Time!" icon-name="utility:question">
        <template if:true={showQuestions}>
            <div class="timer-container">
                <p>Time Remaining: <span class="timer">{formattedTime}</span></p>
            </div>
            <div class="question-container">
                <template for:each={questions} for:item="question">
                    <div key={question.id} class="question-block">
                        <p class="question-text">{question.id}. {question.text}</p>
                        <lightning-radio-group
                            class="answer-options"
                            options={question.options}
                            data-id={question.id}
                            onchange={handleAnswerChange}>
                        </lightning-radio-group>
                    </div>
                </template>
            </div>
            <div class="button-container">
                <lightning-button
                    class="submit-button"
                    label="Submit"
                    variant="brand"
                    onclick={handleSubmit}>
                </lightning-button>
            </div>
        </template>

        <template if:true={showResult}>
            <div class="result-container">
                <h2 class="result-title">{resultMessage}</h2>
                <p class="result-score">You scored {score}/{questions.length}.</p>
                <p class="result-attempted">Attempted Questions: {attemptedQuestions}/{questions.length}</p>
                <div class="answer-container">
                    <template for:each={questions} for:item="question">
                        <div key={question.id} class="answer-block">
                            <p class="question-text">{question.id}. {question.text}</p>
                            <template for:each={question.options} for:item="option">
                                <p key={option.value} class={option.class}>
                                    {option.label}
                                </p>
                            </template>
                        </div>
                    </template>
                </div>
                <lightning-button
                    class="retry-button"
                    label="Retry Quiz"
                    variant="neutral"
                    onclick={retryQuiz}>
                </lightning-button>
            </div>
        </template>
    </lightning-card>
</template> -->


<template>
    <lightning-card class="quiz-card" title="Relax Time!" icon-name="utility:question">
        <!-- Show Start Exam button -->
        <template if:true={showStartButton}>
            <div class="start-container">
                <lightning-button
                    label="Start Exam"
                    variant="brand"
                    onclick={startExam}>
                </lightning-button>
            </div>
        </template>

        <!-- Quiz Questions Section -->
        <template if:true={showQuestions}>
            <div class="timer-container">
                <p>Time Remaining: <span class="timer">{formattedTime}</span></p>
            </div>
            <div class="question-container">
                <template for:each={questions} for:item="question">
                    <div key={question.id} class="question-block">
                        <p class="question-text">{question.id}. {question.text}</p>
                        <lightning-radio-group
                            class="answer-options"
                            options={question.options}
                            data-id={question.id}
                            onchange={handleAnswerChange}>
                        </lightning-radio-group>
                    </div>
                </template>
            </div>
            <div class="button-container">
                <lightning-button
                    class="submit-button"
                    label="Submit"
                    variant="brand"
                    onclick={handleSubmit}>
                </lightning-button>
            </div>
        </template>

        <!-- Result Section -->
        <template if:true={showResult}>
            <div class="result-container">
                <h2 class="result-title">{resultMessage}</h2>
                <p class="result-score">You scored {score}/{questions.length}.</p>
                <p class="result-attempted">Attempted Questions: {attemptedQuestions}/{questions.length}</p>
                <div class="answer-container">
                    <template for:each={questions} for:item="question">
                        <div key={question.id} class="answer-block">
                            <p class="question-text">{question.id}. {question.text}</p>
                            <template for:each={question.options} for:item="option">
                                <p key={option.value} class={option.class}>
                                    {option.label}
                                </p>
                            </template>
                        </div>
                    </template>
                </div>
                <lightning-button
                    class="retry-button"
                    label="Retry Quiz"
                    variant="neutral"
                    onclick={retryQuiz}>
                </lightning-button>
            </div>
        </template>
    </lightning-card>
</template>
